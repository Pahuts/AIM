$(document).ready(function() {
    /*
    dooddddddddddooooodk00000OxxkkkkOOOOOOOOOOkkkxxxddddooollccccc::cxOd:,,''''''cxOd:,ckOOOOxlccccccccccccccccccccccccccc::
    dooddddddddddddddodkO0000kc;;;;:::ccclllllooodddddxOOkkkkOOOOOOkkOOkkxxddoooodkOd:,cxOOOOxlccccccccccccccccccccccccccc::
    doodxxdddddddddddddkOOOOOkc'''''''',,,,'''',,''',,cxxl;::::cccccllloooodddxxxxkkd:,:xOOOOxlccccccccccccccccccccccccccc::
    dddxxxdddddddddddddkOOOOOkc,'''''',,,'''''''''''',cxxc,''........''''''',,,;;cdkd:,:xOOOOxlccccccccccccccccccccccccccc::
    xdodxxdddddddddddddkOOOOOkc,''''',,,''''''....''''cxxc'''..........''''''''',:dxd:,:xOOOOxocccccccccccccccccccccccccccc:
    xddxxxxxxxdddddddddkOOOOOkc,'''',,,''''......'''''cxxc'''.........'''''''''',:oxdc,:dOOOOkollccccccccccccldoccccccccccc:
    xddxxxxxxxxxxdddddxkOOOOOkc,'''''''''.......'''''':xxc'''......''''''''''''',:oxd:,:dOOOOxoolcccccccccccok0Oxlcccccccc::
    xddxxxxxxxxxddddddxkOOOOOkc''''''''........'''''.':xxc''....'''''''''''''''',:oxd:;:dOOOxxOOkdlccccc::cok0000kocccccc:::
    xxxxxxxxxxxxxxxxddxkOOOOOkc',,''''........''''...':xxc''''''''''''''''''''''':oxdc;:dOOOxk00Okxdlc::::lxOOkO00klccccc:::
    xxxxxxxxxxxxxxxxxdxkOOOOOkc,,''''................':xxc''''''''''''''''''''''';oxdc;;oOOOxxO0OkOkdoc:::okO0OkO00xlcccccc:
    xxxxxxxxxxxxxxxxxdxkOOOOOx:''''..................':dxc''''''''''''''''''''''';oxdc;;okOOkdxOOOOOOkdc:cxkkOkO000Odcccccc:
    xxxxxxxxxxxxxxxxxdxkOxdl:;''.....................';dxc''''''''''''''''''''.'';lxdc;;okOOOxoxO0OOOkxxdokOxxkO0000klcccccc
    xxxxxxxxxxxxxxxxdolc:,'...........................,dkc,,'''''''''''''''....'',lxdc;;okOOOkdlxO00OkxkOxoxkkkk0000klcccccc
    xxxxxxxxxxxxxxdl:,'................................,:;'''''''.....'''.......',lxdc;;okOOOkdllokOOOkOOxoloxxdxkkxolcccccc
    kkkxxxxxxxxxxo:,''.......................................................'''',lxdc;;okOOOkxollloxkkddkOxoxkdolcclllllccc
    kkkkxxxxxxxxo;'''................,:cccc:;'..........'''..''''''''.......''''',lxxl;;okOOOkxooolllllcdOOOolk0Okdllllllccc
    kkkkkxxxxxoc,''...............''':dxxxxxxl,,;,.....';;,,::;;;;;;;,,,,,''''',,,lkkl;;okOOOkxooollllllx0OOdclxOOOxllllllll
    kkkkkkkxdc,''...........','..,:,,lxxxxxxxxl:oc''....,odoxkkkkkkkkxxxxxxdddoooodkkl;:okOOOkxoooolllllldkkdlcloddollllllll
    kkkkkkko;'''.'''''''...'::'.,cc:lxxxkxxxxxddxlcc;.,:;,:::cccclllllooooodddddddxkkl;:okOOOkxoooollllolllollllllllllllllll
    kkkkkkd:'''...'''''...':l,';cc;:ccclodxxxxxdoccc;''lo;'''''''''''''''',,,,,,,;lxkl::okOOOkxoooooloolllllllllllllllllllll
    kkkkkxl,''...........,col::cc:::::;;;lxxxxoc:ccc:,.:dl'''..........'''''''''',cdxl::okOOOkxooooooooooollllllllllllllllll
    kkkkkx:'''.........,:oxxdc::::::::::;:looc;;::::,',lxl,'''.......'''''''''''';cddl::okOOOOxoooooooooooolllllllllllllllll
    kkkkkd;'''....''..':odolc,;oddxkxlcoo;,::;;ldl::,',okl,''......''''''''''''',;ldxl:cokOOOkxdoooooooooooollllllllllllllll
    kkkkkd;'''.':cll:,',;;;;;,;oxk0Kkl:oo;cdxl:dOd::;',okl,''.....'''''''',,,,,,,;cdxl:cokOOOkxdooooooooooooooolllllllllllll
    Okkkkd;''',cddoodl;:oddxdl;cdxxxxdddc;lxxo::lllc;';dkl,'''.''''''''''',,,,,,,;cdxl:cokOOOkxdoooooooooooooooooooollllllll
    kkkkkd;'''coodoloolldxxxxxo::ccccccccldxxdccllll:,:dkl,'''''''''''''',,,,,,,,;cdxl:cokOOOkxdoooooooooooooooooooooollllll
    OOkkOxc,',lddxdddodxxxxxxxxxxxxxxxxxxxxxxddodxxxl;:dkl,'''',,''''',,,,,,,,,,,,cdxo:cokOOOkxdooooooooooooooooooooooolllll
    OOkkkkxc,,cdddxxdoxxxxxxxxxxxxxxxxxxxxxxoooodxxxo;:dkl,,,,,,,,,,,,,,,,,,,,,,,,cdxoccokOOOkxdooddodoooooooooooooooooooooo
    OOkkkkkxl;,coooddoodxxxxxxxxxxxxxxxxxxxxxxxxxxxxo;:dko;,,,,,,,,,,,,,,,,,,;;;,,cdxoccokOOOkxddddddddooooooooooooooooooooo
    OOOkkkkkkd;,:odooodxxxxxxxxxxxxxxxxdoolooooodxxxo;:dko;,,,,,,,,,,,,,,,;:cll:,,cdxoccoxOOOkxdddddddddddoooooooooooooooooo
    OOOOOkkkkx:'',:cloodxxxxxxxxxxxxxxxo:::ccc:cdxxxl;:dko;,,,,,,,,,,,,:lodddoc;,,cdxoccoxOOOkxddddddddddddddooooooooooooooo
    OOOOOOOkkocll,''',lxxddxxxxxxxxxxxxxdoooolldxxxd:,;dko;,,,,,,,,,,:oxxxxdl:,,,,cdxolcoxOOOkxdddddddddddddddoooooooooooooo
    OOOOOkOkkkkkxc',,;dxxxddxxxxxxxxxxxxxxxdooxxxxxl,';dko;,,,,,,,';ldxxxdl;,,,,,,:dxdlcoxOOOkxdddddddddddddddddoooooooooooo
    kkkkOOkkkkkkkdc:::dxxxxdddxxxxxxxxxxxxxxodxxxxo:;;:dko:;;,,,,,;oxxxxdc,,,,,,,,:dxdlclxOkkkxdooodddddddddddoodddddooooooo
    kkkkkkkkkkxxdxddc:oxxxxxxxddddxxxxxxxxxxxxxxxdodxxxkOkxddddolldxxxxxocllccccc:codoccloddddddollcldddddddddoodddddddooooo
    OOkkkkkxdxxkkO00xoxxxxxxxxxxxddddddxxxxxxxxxdc:llloxkxoooooodxxxxxxxdddddddddddddddddxxxxxxdoc::coddddddddddddddddddddoo
    OOOkkkkocooooooolldddddddddxxxxxddddddddddddl;,,,,:dko;,;:oxxxxxxxxxxxxxxxxxxxxxxxxxddodddoolc:coddddddddddddddddddddddd
    OOkkkkko:::;;;;;;:codxxxxxxddddxxxxxxdooloxkkxddlccdko;,;oxxxxxxxxxxxxxxxxxxxxxxddoooododdolcclddddddddddddddddddddddddd
    OOOkkkko:::::::::;;:cldkO00OkxdddxxxxddddxO000000Okkkd:,cdxxxxxxxxxxxxxxxxxxxxxxxddddooloollloddddddddddddddddddddddolcl
    OOkxkkkdllc::;::;;::;;:cdkOOkdoc:coxxxxxddO0000000000Okooxxxxxxxxxxxxxxxxxxxxxxxxdollooooddddxddddddddddddddddollodl:,,,
    xxxddddodxxxdol:;::::;:;:lxdc;;;;;cdxxxxddO00000000000Oxdxxxxxxxxxxxxxxxxxxxxxxxxxdllodxkkkxxxdddxxdddddddddlc:,,::,''',
    xxxxxxxxxdxkkkkdc:;::::;;;::;;;;;;:oxxxxxodxxkO0000000OddxxxxxxxxxxxxxxxxxxxxxxddolcldkkOOkxxxxxxdddddllllddl;,''''''',;
    kkkkkkkkkkxdxkkkxoc:;;;;;;;;;;;;;;:oxxxxxddxddodkO0000kdxxxxxxxxxxxxxxxxxxxxdolooolllxkkOkkxxxxxxxdolc;'',;:;;,'''''',;;
    odkkkkkkkkkxdxkkkkxoc;;;;;;;;;;;;;:lxxxxxxxxxdodxxk0Okddxxxxxxxxxxxxxxxxxdoc:;:oxdollxOOOkkxxxxxxxdc,'''''''''''',;;;;;;
    xooxkkkkkkkkkxdxkkkkxl:;;;;;;;;;;;;lddddddddddxxkxxkxddxxxxxxxxxxxxxxxdlc;,,,,:oxdollxkkOOkxddoooll:;,''''''''''',;;;;;;
    kkdodkkkkkkkkkxddkkkkkxdl:;;;;;;;;;lkOkkkkkOOkkkOkoodxxxxxxxxxxxxxxxoc;,,,,,,,:oxdlllxkkOkxolc:;,'',,''''''''''''',;;;;;
    kkkxodkkkkkkkkkkddxkkkkkkxoc:;;;;;;;:ldxkOOkkkkkxddxxxxxxxxxxxxxxxdolc:;,,',,,:oxdlllxkkkkxlcc:;,;,'''''''''''',,,,;;;;,
    kkkkxoxkkkkkkkkkkxddkkkkkkkxdl:;;;;;;;;:clloxkxdddxxxxxxxxxxxxxxxdoooxxdolcc:;:oxdlllxkkkkxlcccccc:,'''''''''',,,,;;;;,,
    kkkkkddkkkkkkkkkkkkddkkkkkkkkkxoc:::;;;;;;;;ododxxxxxxxxxxxxxxxxdodkdoxkkkxdoc:lolcclxkkkkxlccccccc;;,''''',,,,,,,,,;;;,
    xkkkkxoxkkkkkkkkkkkkddkkkkkkkkkkxdl::;;;;;;;cddxxxxxxxxxxxxxxxxxocldxdoxkkl;:ccc:,,,;:looddlccc:::::;,''''''',,,,,,,,;;,
    dkkkkxooxkkkkkkkkkkkkddkkkkkkkkkkkkdl::;;;:odxxxxxxxxxxxxxxxxxxoc:;:lxooxx:;cloo:,,::;;,,,,,,;;;;:::;,''...''',,,,,,,,,,
    kkkkkkxddddxkkkkkkkkkkddkkkkkkkkkkkxdolllloddddddddxxxxxxxxxxxdol::lxkxooo;:lool;':dxocclllc::;;,,,,,,,'''''''',,,,,,,,,
    kkkxxxkkkxxddkkkkkkkkkxoxkkkkkkkkxddxxkkkkkkxxxxdddddddxxxxxxdooc:oxkkkdl:;cool:,,ldo:;:oollolodocccc:;;,,''''',,,,,,,,,
    xddoodddxkkxddkkkkkkkkkddkkkkkkkdodkkkkkkkkkkkkkkkkkxdodxxxddolc:okkkkdoo:;lool;';od::::l:,::;ldl;:oxxxdolc;''''''',,'''
$$$$$$\-------------------$$\-----$$\-------$$\--------------------------------------------------------------------------------$$$$\--
\_$$--_|------------------$$-|----$$-|------\__|------------------------------------------------------------------------------$$--$$\-
--$$-|---$$$$$$$\-------$$$$$$\---$$$$$$$\--$$\--$$$$$$$\--------$$$$$$\--------$$$$$$\$$$$\---$$$$$$\--$$$$$$\$$$$\---$$$$$$\\__/$$-|
--$$-|--$$--_____|------\_$$--_|--$$--__$$\-$$-|$$--_____|-------\____$$\-------$$--_$$--_$$\-$$--__$$\-$$--_$$--_$$\-$$--__$$\--$$--|
--$$-|--\$$$$$$\----------$$-|----$$-|--$$-|$$-|\$$$$$$\---------$$$$$$$-|------$$-/-$$-/-$$-|$$$$$$$$-|$$-/-$$-/-$$-|$$$$$$$$-|$$--/-
--$$-|---\____$$\---------$$-|$$\-$$-|--$$-|$$-|-\____$$\-------$$--__$$-|------$$-|-$$-|-$$-|$$---____|$$-|-$$-|-$$-|$$---____|\__/--
$$$$$$\-$$$$$$$--|--------\$$$$--|$$-|--$$-|$$-|$$$$$$$--|------\$$$$$$$-|------$$-|-$$-|-$$-|\$$$$$$$\-$$-|-$$-|-$$-|\$$$$$$$\-$$\---
\______|\_______/----------\____/-\__|--\__|\__|\_______/--------\_______|------\__|-\__|-\__|-\_______|\__|-\__|-\__|-\_______|\__|--
--------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------
    */

    // ################################################################
    // FUNCTION DECLARATIONS
    // ################################################################

    // Update School based on Program; execute only after OData query returns "programs" variable
    function updateSchool() {
        var school = $("#ndph_school");
        var schoolName = $("#ndph_school_name");
        var schoolEntity = $("#ndph_school_entityname");
        var programID = $("#ndph_program");

        // Get current program based on degreeProgram
        var currentProgram = {};
        if (programID.val()) {
            // Search in "programs" array for corresponding program element
            currentProgram = programs.find(
                function(program) {
                    return program.ndph_programid == programID.val();
                }
            );
            // Set School
            school.val(currentProgram.ndph_school.Id);
            schoolName.val(currentProgram.ndph_school.Name);
            schoolEntity.val("ndph_school");
        }
        else {      // Triggers if a program has no school assigned or if corresponding program field is empty
            school.val("");
            schoolName.val("");
            schoolEntity.val("");
        }
    }

    // Hide/show Home State (Other) based on "Others" checkbox
    function toggleStateOtherHome() {
        var checkedStateOtherHome = $("#ndph_addressnotshownonthelist");
        var stateHome = $("#ndph_state");
        var stateHomeName = $("#ndph_state_name");
        var stateHomeEntity = $("#ndph_state_entityname");
        var stateHomeField = stateHome.parent().parent().parent();
        var stateOtherHome = $("#address1_stateorprovince");
        var stateOtherHomeField = stateOtherHome.parent().parent();

        if (checkedStateOtherHome.prop("checked")) {
            stateHomeField.hide();
            stateOtherHomeField.show();
        }
        else {
            stateOtherHomeField.hide();
            stateHomeField.show();
        }
    }

    // Hide/show Home City (Other) based on "Others" checkbox
    function toggleCityOtherHome() {
        var checkedCityOtherHome = $("#ndph_addressnotshownonlist_city");
        var cityHome = $("#ndph_city");
        var cityHomeName = $("#ndph_city_name");
        var cityHomeEntity = $("#ndph_city_entityname");
        var cityHomeField = cityHome.parent().parent().parent();
        var cityOtherHome = $("#address1_city");
        var cityOtherHomeField = cityOtherHome.parent().parent();

        if (checkedCityOtherHome.prop("checked")) {
            cityHomeField.hide();
            cityOtherHomeField.show();
        }
        else {
            cityOtherHomeField.hide();
            cityHomeField.show();
        }
    }

     // Toggle Business State based on whether Business Country has a value
     function toggleStateBusiness() {
        var checkedStateOtherBusiness = $("#ndph_addressnotshownonthelistbusiness");
        var stateBusiness = $("#ndph_mequestion12");
        var stateBusinessName = $("#ndph_mequestion12_name");
        var stateBusinessEntity = $("#ndph_mequestion12_entityname");
        var stateBusinessField = stateBusiness.parent().parent().parent();
        var stateOtherBusiness = $("#ndph_statebusinessothers");
        var stateOtherBusinessField = stateOtherBusiness.parent().parent();

        if (checkedStateOtherBusiness.prop("checked")) {
            stateBusinessField.hide();
            stateOtherBusinessField.show();
        }
        else {
            stateOtherBusinessField.hide();
            stateBusiness.show();
        }
    }
    // Toggle Business City based on whether Business State has a value
    function toggleCityBusiness() {
        var checkedCityOtherBusiness = $("#ndph_addressnotshownonlist_citybusiness");
        var cityBusiness = $("#ndph_mequestion13");
        var cityBusinessName = $("#ndph_mequestion13_name");
        var cityBusinessEntity = $("#ndph_mequestion13_entityname");
        var cityBusinessField = cityBusiness.parent().parent().parent();
        var cityOtherBusiness = $("#ndph_citybusinessothers");
        var cityOtherBusinessField = cityOtherBusiness.parent().parent();

        if (checkedCityOtherBusiness.prop("checked")) {
            cityBusinessField.hide();
            cityOtherBusinessField.show();
        }
        else {
            cityOtherBusinessField.hide();
            cityBusiness.show();
        }
    }

    function toggleDietaryPreference() {
        var dietaryPreference = $("#ndph_dietarypreference");
        var dietaryPreferenceOther = $("#ndph_dietarypreferenceotheroption");
        var dietaryPreferenceOtherField = dietaryPreferenceOther.parent().parent();

        if (dietaryPreference.val() == "649840004") {
            dietaryPreferenceOtherField.show();
            dietaryPreference.prop('disabled', true);
            dietaryPreferenceOther.prop('disabled', true);
        }
        else {
            dietaryPreferenceOtherField.hide();
            dietaryPreference.prop('disabled', true);
            dietaryPreferenceOther.prop('disabled', true);
        }

    }

    // ################################################################
    // INITIALIZE FORM
    // ################################################################

    // Get the query string from the URL
    var queryString = window.location.search;
    queryString = queryString.substring(1);

    // Parse the query string and assign parameters to "params" object
    var queries = queryString.split("&");
    var params = {};
    var query;
    for (var i = 0; i < queries.length; ++i) {
        query = queries[i].split("=");
        params[decodeURIComponent(query[0])] = decodeURIComponent(query[1]);
    }

    // Query program information from OData
    var programs = [];
    var currentURL = "/_odata/Programs";
    while(currentURL) {
        $.ajax({
            type: "GET",
            dataType: "json",
            async: false,
            contentType: "application/json; charset=utf-8",
            url: currentURL,
            beforeSend: function(XMLHttpRequest) {
                XMLHttpRequest.setRequestHeader("Accept", "application/json");
            },
            success: function(data, textStatus, XHR) {
                programs = programs.concat(data.value);
                currentURL = data["odata.nextLink"];
            }
        });
    }

    // Prepopulate Program fields
    if (!$("#ndph_program").val()) {
        if (params["id"]) {
            var prepopulatedProgram = programs.find(     // Returns an object
                function(program) {
                    // Search in "programs" array for element matching GUID on program lookup
                    return program.ndph_programid == params["id"];
                }
            );
        
            // Populate Program lookup
            $("#ndph_program").val(prepopulatedProgram.ndph_programid);
            $("#ndph_program_name").val(prepopulatedProgram.ndph_name);
            $("#ndph_program_entityname").val("ndph_program");
        }
    }

    // Hide metadata fields
    $(".section[data-name='hidden']").closest("fieldset").hide();

    // Append program guide
    $('.page-copy').append("<div id='instructions' class='instructions'></div>");
    $("#instructions")
        .addClass('instruction')
        .attr('id', 'instruction')
        .append('<p>Fill out the application form below and one of our Recruitment Officers will get in touch with you to guide you throughout the application process. Should you wish to contact us directly, email us at <a href="mailto: recruitment@aim.edu" id="recruitmentEmail">recruitment@aim.edu</a>.</p>')
        .append('<p>Please be reminded that all information you submit in this Form will be recorded in AIM’s database and will be accessed only by authorized AIM personnel.</p>')
        .append('<p><a href="/application-guide" id="guide-link" target="_blank">Click here to read the step-by-step guide to this online graduate degree application process.</a></p>')
        .append('<p><i>* - Required fields.</i></p>');
    $("#guide-link").attr("onclick", "return !window.open(this.href, undefined, 'width=800,height=600')");

    // Append update applicant info instruction
    $('<div>')
    .addClass('updateApplicantInfo')
    .attr('id', 'updateApplicantInfo')
    .append('<p>To update this section, go to My Profile > Basic Information.</p>')
    .insertBefore('[data-name="personal_information_1"]');

    // Append update home address instruction
    $('<div>')
    .addClass('updateHomeAddressInstruction')
    .attr('id', 'updateHomeAddressInstruction')
    .append('<p>To update this section, go to My Profile > Address.</p>')
    .insertBefore('[data-name="home_address"]');

     // Append update business address instruction
     $('<div>')
     .addClass('updateBusinessAddressInstruction')
     .attr('id', 'updateBusinessAddressInstruction')
     .append('<p>To update this section, go to My Profile > Address.</p>')
     .insertBefore('[data-name="business_address_header"]');

    // Append update dietary info instruction
    $('<div>')
    .addClass('updateDietaryInfo')
    .attr('id', 'updateDietaryInfo')
    .append('<p>To update this section, go to My Profile > Basic Information.</p>')
    .insertBefore('[data-name="dietary_information_section"]');

    // Disable applicant info fields
    $("#firstname").prop('disabled', true);
    $("#middlename").prop('disabled', true);
    $("#lastname").prop('disabled', true);
    $("#ndph_suffix").prop('disabled', true);
    $("#emailaddress1").prop('disabled', true);
    $("#ndph_countrycodemobilenew").prop('disabled', true);
    $("#ndph_countrycodemobilenew_name").parent().find('.input-group-btn').hide();
    $("#mobilephone").prop('disabled', true);
    $("#ndph_dateofbirth_datepicker_description").parent().find('.form-control').prop('disabled', true);
    $("#ndph_dateofbirth").parent().find('.input-group-addon').hide();
    $("#ndph_sex").prop('disabled', true);
    $("#ndph_countryofbirth").prop('disabled', true);
    $("#ndph_citizenship").prop('disabled', true);
    // Disable home address fields
    $("#address1_line1").prop('disabled', true);
    $("#ndph_country").prop('disabled', true);
    $("#ndph_country_name").parent().find('.input-group-btn').hide();
    $("#address1_postalcode").prop('disabled', true); 
    $("#ndph_state").prop('disabled', true);
    $("#ndph_state_name").parent().find('.input-group-btn').hide(); 
    $("#address1_stateorprovince").prop('disabled', true); 
    $("#ndph_addressnotshownonthelist").prop('disabled', true);
    $("#address1_city").prop('disabled', true);  
    $("#ndph_city").prop('disabled', true);
    $("#ndph_city_name").parent().find('.input-group-btn').hide(); 
    $("#ndph_portalcityother").prop('disabled', true);
    // Disable business address fields
    $("#ndph_businessaddressishomeaddress").prop('disabled', true);
    $("#ndph_street1business").prop('disabled', true);
    $("#ndph_mequestion11").prop('disabled', true);
    $("#ndph_mequestion11_name").parent().find('.input-group-btn').hide();  
    $("#ndph_mequestion12").prop('disabled', true);
    $("#ndph_mequestion12_name").parent().find('.input-group-btn').hide(); 
    $("#ndph_mequestion13").prop('disabled', true);
    $("#ndph_mequestion13_name").parent().find('.input-group-btn').hide();  
    $("#ndph_mequestion14").prop('disabled', true);
    $("#ndph_statebusinessothers").prop('disabled', true);
    $("#ndph_citybusinessothers").prop('disabled', true);
    $("#ndph_addressnotshownonthelistbusiness").prop('disabled', true);
    $("#ndph_portalcityotherbusiness").prop('disabled', true);
    // Disable dietary info fields
    $("#ndph_foodallergies").prop('disabled', true);

    // Set School
    updateSchool();

    // Add class to adjust top padding on mobile field
    $("input#mobilephone.text.form-control").closest("td").css("padding-top", "26px");

    // Resize State/City fields
    $("#ndph_country").parent().parent().parent().attr("colspan","2");          // Home Address
    $("#ndph_country").parent().css("width","100%");
    $("#ndph_state").parent().parent().parent().attr("colspan","2");
    $("#ndph_state").parent().css("width","100%");
    $("#address1_stateorprovince").parent().parent().attr("colspan","2");
    $("#ndph_city").parent().parent().parent().attr("colspan","2");
    $("#ndph_city").parent().css("width","100%");
    $("#address1_city").parent().parent().attr("colspan","2");
    
    $("#ndph_mequestion11").parent().parent().parent().attr("colspan","2");     // Business Address
    $("#ndph_mequestion11").parent().css("width","100%");
    $("#ndph_mequestion12").parent().parent().parent().attr("colspan","2");
    $("#ndph_mequestion12").parent().css("width","100%");
    $("#ndph_statebusinessothers").parent().parent().attr("colspan","2");
    $("#ndph_mequestion13").parent().parent().parent().attr("colspan","2");
    $("#ndph_mequestion13").parent().css("width","100%");
    $("#ndph_citybusinessothers").parent().parent().attr("colspan","2");

    // Initialize Address (Other) fields
    toggleStateOtherHome();
    toggleCityOtherHome();
    toggleStateBusiness();
    toggleCityBusiness();

    // Initialize Dietary Preference (Others)
    toggleDietaryPreference();

    // Update School field
    $("#ndph_program").change(updateSchool);
    $("#ndph_school").change(updateSchool);

});